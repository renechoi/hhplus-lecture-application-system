##### í•­í•´ í”ŒëŸ¬ìŠ¤ [ 2ì£¼ì°¨ ê³¼ì œ ] íŠ¹ê°• ì‹ ì²­ ì„œë¹„ìŠ¤

# ìš”êµ¬ ì‚¬í•­ 

```
ğŸ’¡ ì•„ë˜ ëª…ì„¸ë¥¼ ì˜ ì½ì–´ë³´ê³ , ì„œë²„ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

ğŸ“Œ Description

- `íŠ¹ê°• ì‹ ì²­ ì„œë¹„ìŠ¤`ë¥¼ êµ¬í˜„í•´ ë´…ë‹ˆë‹¤.
- í•­í•´ í”ŒëŸ¬ìŠ¤ í† ìš”ì¼ íŠ¹ê°•ì„ ì‹ ì²­í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•©ë‹ˆë‹¤.
- íŠ¹ê°• ì‹ ì²­ ë° ì‹ ì²­ì ëª©ë¡ ê´€ë¦¬ë¥¼ RDBMSë¥¼ ì´ìš©í•´ ê´€ë¦¬í•  ë°©ë²•ì„ ê³ ë¯¼í•©ë‹ˆë‹¤.

ğŸ“Œ Requirements

- ì•„ë˜ 2ê°€ì§€ API ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
   - íŠ¹ê°• ì‹ ì²­ API
   - íŠ¹ê°• ì‹ ì²­ ì—¬ë¶€ ì¡°íšŒ API
- ê° ê¸°ëŠ¥ ë° ì œì•½ ì‚¬í•­ì— ëŒ€í•´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ë°˜ë“œì‹œ í•˜ë‚˜ ì´ìƒ ì‘ì„±í•˜ë„ë¡ í•©ë‹ˆë‹¤.
- ë‹¤ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘í•˜ë”ë¼ë„ ê¸°ëŠ¥ì— ë¬¸ì œê°€ ì—†ë„ë¡ ì‘ì„±í•˜ë„ë¡ í•©ë‹ˆë‹¤.
- ë™ì‹œì„± ì´ìŠˆë¥¼ ê³ ë ¤í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.

ğŸ“Œ API Specs

1ï¸âƒ£(í•µì‹¬) íŠ¹ê°• ì‹ ì²­ API POST /lectures/apply

- íŠ¹ì • userId ë¡œ ì„ ì°©ìˆœìœ¼ë¡œ ì œê³µë˜ëŠ” íŠ¹ê°•ì„ ì‹ ì²­í•˜ëŠ” API ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
- ë™ì¼í•œ ì‹ ì²­ìëŠ” í•œ ë²ˆì˜ ìˆ˜ê°• ì‹ ì²­ë§Œ ì„±ê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- íŠ¹ê°•ì€ `4ì›” 20ì¼ í† ìš”ì¼ 1ì‹œ` ì— ì—´ë¦¬ë©°, ì„ ì°©ìˆœ 30ëª…ë§Œ ì‹ ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ì´ë¯¸ ì‹ ì²­ìê°€ 30ëª…ì´ ì´ˆê³¼ë˜ë©´ ì´í›„ ì‹ ì²­ìëŠ” ìš”ì²­ì„ ì‹¤íŒ¨í•©ë‹ˆë‹¤.
- ì–´ë–¤ ìœ ì €ê°€ íŠ¹ê°•ì„ ì‹ ì²­í–ˆëŠ”ì§€ íˆìŠ¤í† ë¦¬ë¥¼ ì €ì¥í•´ì•¼í•œë‹¤.

2ï¸âƒ£(ê¸°ë³¸) íŠ¹ê°• ì‹ ì²­ ì™„ë£Œ ì—¬ë¶€ ì¡°íšŒ API GET /lectures/application/{userId}

- íŠ¹ì • userId ë¡œ íŠ¹ê°• ì‹ ì²­ ì™„ë£Œ ì—¬ë¶€ë¥¼ ì¡°íšŒí•˜ëŠ” API ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
- íŠ¹ê°• ì‹ ì²­ì— ì„±ê³µí•œ ì‚¬ìš©ìëŠ” ì„±ê³µí–ˆìŒì„, íŠ¹ê°• ë“±ë¡ì ëª…ë‹¨ì— ì—†ëŠ” ì‚¬ìš©ìëŠ” ì‹¤íŒ¨í–ˆìŒì„ ë°˜í™˜í•©ë‹ˆë‹¤. (true, false)


ğŸ“Œ ì‹¬í™” ê³¼ì œ

3ï¸âƒ£(í•„ìˆ˜) íŠ¹ê°• ì„ íƒ API GET /lectures

- ë‹¨ í•œë²ˆì˜ íŠ¹ê°•ì„ ìœ„í•œ ê²ƒì´ ì•„ë‹Œ ë‚ ì§œë³„ë¡œ íŠ¹ê°•ì´ ì¡´ì¬í•  ìˆ˜ ìˆëŠ” ë²”ìš©ì ì¸ ì„œë¹„ìŠ¤ë¡œ ë³€í™”ì‹œì¼œ ë´…ë‹ˆë‹¤.
- ì´ë¥¼ ìˆ˜ìš©í•˜ê¸° ìœ„í•´, íŠ¹ê°• ì—”í‹°í‹°ì˜ ê²½ìš° ê¸°ì¡´ì˜ ì„¤ê³„ì—ì„œ ë³€ê²½ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
- íŠ¹ê°•ì˜ ì •ì›ì€ 30ëª…ìœ¼ë¡œ ê³ ì •ì´ë©°, ì‚¬ìš©ìëŠ” ê° íŠ¹ê°•ì— ì‹ ì²­í•˜ê¸°ì „ ëª©ë¡ì„ ì¡°íšŒí•´ë³¼ ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
   - ì¶”ê°€ë¡œ ì •ì›ì´ íŠ¹ê°•ë§ˆë‹¤ ë‹¤ë¥´ë‹¤ë©´ ì–´ë–»ê²Œ ì²˜ë¦¬í• ê²ƒì¸ê°€..? ê³ ë¯¼í•´ ë³´ì…”ë¼~

ğŸ’¡ KEY POINT

- ì •í™•í•˜ê²Œ 30ëª…ì˜ ì‚¬ìš©ìì—ê²Œë§Œ íŠ¹ê°•ì„ ì œê³µí•  ë°©ë²•ì„ ê³ ë¯¼í•´ ë´…ë‹ˆë‹¤.
- ê°™ì€ ì‚¬ìš©ìì—ê²Œ ì—¬ëŸ¬ ë²ˆì˜ íŠ¹ê°• ìŠ¬ë¡¯ì´ ì œê³µë˜ì§€ ì•Šë„ë¡ ì œí•œí•  ë°©ë²•ì„ ê³ ë¯¼í•´ ë´…ë‹ˆë‹¤.
```


# êµ¬ìƒ

### ì´ê´„ ì‹œë‚˜ë¦¬ì˜¤

1. ì‚¬ìš©ìëŠ” íŠ¹ê°• ì‹ ì²­ í˜ì´ì§€ì— ì ‘ì†í•œë‹¤.
2. í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì—ì„œ í˜„ì¬ íŠ¹ê°• ëª©ë¡ì„ ì¡°íšŒí•œë‹¤.
3. ì„œë²„ëŠ” íŠ¹ì • ì‹œê°„ ì „ì— íŠ¹ê°• ì‹ ì²­ì„ ë§‰ëŠ”ë‹¤.
4. í´ë¼ì´ì–¸íŠ¸ëŠ” íŠ¹ì • ì‹œê°„ì´ ë˜ë©´ íŠ¹ê°• ì‹ ì²­ ë²„íŠ¼ì„ í™œì„±í™”í•œë‹¤.
5. ì‚¬ìš©ìê°€ íŠ¹ê°• ì‹ ì²­ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì— ì‹ ì²­ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
6. ì„œë²„ëŠ” ì‹ ì²­ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³ , ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì‘ë‹µí•œë‹¤.

### ì„¸ë¶€ ì‹œë‚˜ë¦¬ì˜¤

#### 1. íŠ¹ê°• ì‹ ì²­ í˜ì´ì§€ ì ‘ì†
- ì‚¬ìš©ìëŠ” íŠ¹ê°• ì‹ ì²­ ì›¹í˜ì´ì§€ì— ì ‘ì†í•˜ì—¬ í˜„ì¬ ì œê³µë˜ëŠ” íŠ¹ê°• ëª©ë¡ì„ í™•ì¸í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ë¡œë¶€í„° íŠ¹ê°• ëª©ë¡ì„ ê°€ì ¸ì™€ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•œë‹¤.

#### 2. íŠ¹ê°• ëª©ë¡ ì¡°íšŒ
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì— `/lectures` APIë¥¼ í˜¸ì¶œí•˜ì—¬ í˜„ì¬ ì œê³µë˜ëŠ” ëª¨ë“  íŠ¹ê°• ëª©ë¡ì„ ì¡°íšŒí•œë‹¤.
- ì„œë²„ëŠ” DBì—ì„œ ëª¨ë“  íŠ¹ê°• ì •ë³´ë¥¼ ì¡°íšŒí•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” ë°˜í™˜ëœ íŠ¹ê°• ëª©ë¡ì„ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•œë‹¤.

#### 3. íŠ¹ê°• ì‹ ì²­ ì‹œê°„ ì œí•œ
- ì„œë²„ëŠ” íŠ¹ê°•ì˜ ì‹œì‘ ì‹œê°„(`4ì›” 20ì¼ í† ìš”ì¼ 1ì‹œ`) ì „ì— íŠ¹ê°• ì‹ ì²­ì„ ë§‰ëŠ”ë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” íŠ¹ê°• ì‹œì‘ ì‹œê°„ ì „ê¹Œì§€ ì‹ ì²­ ë²„íŠ¼ì„ ë¹„í™œì„±í™” ìƒíƒœë¡œ ìœ ì§€í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” íŠ¹ê°• ì‹œì‘ ì‹œê°„ì´ ë˜ë©´ ì‹ ì²­ ë²„íŠ¼ì„ í™œì„±í™”í•œë‹¤.

#### 4. íŠ¹ê°• ì‹ ì²­
- íŠ¹ê°• ì‹ ì²­ ì‹œê°„ì´ ë˜ë©´ ì‚¬ìš©ìëŠ” ì‹ ì²­ ë²„íŠ¼ì„ í´ë¦­í•  ìˆ˜ ìˆë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì‚¬ìš©ìê°€ ì‹ ì²­ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œ, `/lectures/apply` APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹ ì²­ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
- ì„œë²„ëŠ” ì‹ ì²­ ìš”ì²­ì„ ì²˜ë¦¬í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ ë¡œì§ì„ ìˆ˜í–‰í•œë‹¤:
   - ì‹ ì²­ìê°€ 30ëª…ì„ ì´ˆê³¼í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.
   - ë™ì¼í•œ ì‚¬ìš©ìê°€ ì´ë¯¸ ì‹ ì²­í–ˆëŠ”ì§€ í™•ì¸í•œë‹¤.
   - ì‹ ì²­ì´ ê°€ëŠ¥í•˜ë©´ ì‹ ì²­ ì •ë³´ë¥¼ DBì— ì €ì¥í•˜ê³ , í˜„ì¬ ì°¸ê°€ì ìˆ˜ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
   - ì‹ ì²­ì´ ì™„ë£Œë˜ë©´ í´ë¼ì´ì–¸íŠ¸ì— ì„±ê³µ ì‘ë‹µì„ ë°˜í™˜í•œë‹¤.
   - ì‹ ì²­ìê°€ 30ëª…ì„ ì´ˆê³¼í•˜ê±°ë‚˜ ì´ë¯¸ ì‹ ì²­í•œ ì‚¬ìš©ìì¸ ê²½ìš°, í´ë¼ì´ì–¸íŠ¸ì— ì‹¤íŒ¨ ì‘ë‹µì„ ë°˜í™˜í•œë‹¤.

#### 5. ì‹ ì²­ ê²°ê³¼ ì‘ë‹µ
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ë¡œë¶€í„° ì‹ ì²­ ê²°ê³¼ ì‘ë‹µì„ ë°›ì•„ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•œë‹¤.
- ì„±ê³µì ìœ¼ë¡œ ì‹ ì²­ëœ ê²½ìš°, ì‚¬ìš©ìëŠ” ì„±ê³µ ë©”ì‹œì§€ë¥¼ í™•ì¸í•˜ê³  ì‹ ì²­ ëª©ë¡ì´ ê°±ì‹ ëœë‹¤.
- ì‹ ì²­ì´ ì‹¤íŒ¨í•œ ê²½ìš°, ì‚¬ìš©ìëŠ” ì‹¤íŒ¨ ì´ìœ ë¥¼ í™•ì¸í•œë‹¤.

#### 6. ë²”ìš©ì ì¸ íŠ¹ê°• ì„œë¹„ìŠ¤
- ì‚¬ìš©ìëŠ” íŠ¹ì • ë‚ ì§œì— ì—´ë¦¬ëŠ” ì—¬ëŸ¬ íŠ¹ê°• ëª©ë¡ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì— `/lectures?date={date}` ì™€ ê°™ì€ ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ê°€ ì¶”ê°€ëœ APIë¥¼ í˜¸ì¶œí•˜ì—¬ íŠ¹ì • ë‚ ì§œì— ì—´ë¦¬ëŠ” íŠ¹ê°• ëª©ë¡ì„ ì¡°íšŒí•œë‹¤.
- ì„œë²„ëŠ” í•´ë‹¹ ë‚ ì§œì— ì—´ë¦¬ëŠ” ëª¨ë“  íŠ¹ê°• ì •ë³´ë¥¼ DBì—ì„œ ì¡°íšŒí•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” ë°˜í™˜ëœ íŠ¹ê°• ëª©ë¡ì„ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•œë‹¤.
- ê° íŠ¹ê°•ì˜ ì •ì›ì´ 30ëª…ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆì§€ë§Œ, íŠ¹ì • íŠ¹ê°•ì€ ë‹¤ë¥¸ ì •ì›ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
- íŠ¹ê°•ì˜ ì •ì›ì´ ë‹¤ë¥¼ ê²½ìš°, ì„œë²„ëŠ” ê° íŠ¹ê°•ë³„ë¡œ ìµœëŒ€ ì •ì› ìˆ˜ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” ê° íŠ¹ê°•ì˜ í˜„ì¬ ì‹ ì²­ì ìˆ˜ì™€ ìµœëŒ€ ì •ì› ìˆ˜ë¥¼ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•œë‹¤.


### ERD 


![lecture-lectureapplication-erd.png](document%2Ferd%2Flecture-lectureapplication-erd.png)





# ê¸°ìˆ ì  ê³ ë¯¼ê³¼ ê²°ì •ë“¤

## 1. ëŒ€ì²´í‚¤ ì‚¬ìš©

### ë°°ê²½

í˜„ì—…ì—ì„œ ì‹ë³„ìì˜ ë…¸ì¶œ ë¬¸ì œë¥¼ ê²½í—˜í•˜ë©´ì„œ ëŒ€ì²´í‚¤ì˜ ì‚¬ìš©ì„ ê³ ë ¤í•˜ê²Œ ë˜ì—ˆë‹¤. 

ì„œë²„ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì—”í‹°í‹°ì˜ ì‹ë³„ìê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë…¸ì¶œë˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤. 

ì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • ì‚¬ìš©ìì˜ ì •ë³´ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ URLì— ì‚¬ìš©ìì˜ ê³ ìœ  ì‹ë³„ìë¥¼ í¬í•¨ì‹œí‚¬ ë•Œê°€ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì€ URLì„ ìƒê°í•´ë³´ì. 

```
https://example.com/users/12345
```

ì—¬ê¸°ì„œ `12345`ëŠ” ì‚¬ìš©ìì˜ ê³ ìœ  ì‹ë³„ìë¡œ, í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê·¸ëŒ€ë¡œ ë…¸ì¶œëœë‹¤. ë‹¹ì—°í•˜ê² ì§€ë§Œ ë³´ì•ˆì— ìˆì–´ì„œ í¬ë¦¬í‹°ì»¬í•œ ì ì¬ì  ìœ„í—˜ì„±ì„ ê°–ëŠ”ë‹¤ê³  ìƒê°í–ˆë‹¤. 

ë¬¸ì œëŠ” ì´ë¯¸ ì™„ì„±ëœ ì‹œìŠ¤í…œì—ì„œ ì‹ë³„ìë¥¼ ëŒ€ì²´í‚¤ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì—ëŠ” ë§ì€ ë¦¬ìŠ¤í¬ê°€ ë”°ë¥¸ë‹¤ëŠ” ì ì´ì—ˆë‹¤.     

ì‹ë³„ì ë…¸ì¶œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ì™€ì˜ í†µì‹ ì—ì„œ ì•”í˜¸í™” ë°©ì‹ë„ ê³ ë ¤í–ˆì§€ë§Œ ë¹„ìš©ì´ ë§ì´ ë“¤ì–´ ì‰½ì§€ ì•Šì•˜ë‹¤. 

ì´ëŸ° ê²½í—˜ì„ í•˜ë©´ì„œ ëŒ€ì²´í‚¤ ë„ì…ì˜ í•„ìš”ì„±ì„ ëŠê¼ˆê³ , ì´ë²ˆ í”„ë¡œì íŠ¸ì— ì²˜ìŒìœ¼ë¡œ ì‚¬ìš©í•´ë³´ê¸°ë¡œ í–ˆë‹¤.

### ë°©ë²•

í”„ë¡œì íŠ¸ì—ì„œ êµ¬í˜„í•œ íŠ¹ê°•ê³¼ ì‹ ì²­ ì—”í‹°í‹°ì—ì„œ ëŒ€ì²´í‚¤ë¥¼ ì‚¬ìš©í–ˆë‹¤. 



```java
@Entity
public class Lecture {

    @Id
    private String lectureId;

    @Column(nullable = false, unique = true)
    private String lectureExternalId;

	// ... 
    
    @PrePersist
    private void onCreate() {
        this.lectureExternalId = UUID.randomUUID().toString().substring(0, 12);
    }
}
```

`Lecture` ì—”í‹°í‹°ì—ì„œ, `@PrePersist` ë©”ì„œë“œì¸ `onCreate()`ë¥¼ í†µí•´ `lectureExternalId`ê°€ ìƒì„±ëœë‹¤. 

ì´ë•Œ UUIDë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬´ì‘ìœ„ë¡œ ìƒì„±ëœ ë¬¸ìì—´ì˜ ì¼ë¶€ë¥¼ ëŒ€ì²´í‚¤ë¡œ ì‚¬ìš©í•œë‹¤. ëŒ€ì²´í‚¤ ì´ˆê¸°í™” ë°©ì‹ì€ ì´ì™€ ê°™ì´ `@PrePersist`ë¥¼ í™œìš©í•´ ì—”í‹°í‹°ì˜ ì²˜ìŒ ì €ì¥ ì‹œì ì— ìë™ ìƒì„±ë˜ë„ë¡ í•  ìˆ˜ë„ ìˆê³ , ì„œë¹„ìŠ¤ ì½”ë“œì—ì„œ `PK` ìƒì„± í›„ ì„¸íŒ…í•˜ë“¯ì´ ì£¼ì…í•´ë„ ë  ê²ƒì´ë‹¤.

UUIDëŠ” ì„±ëŠ¥ìƒ ì¢‹ì§€ëŠ” ì•Šë‹¤. ê³ ìœ ì„±ì„ ë³´ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œëŠ” ë‹¤ë¥¸ ëŒ€ì•ˆë“¤ë„ ê³ ë ¤ë  ìˆ˜ ìˆë‹¤. 
ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ ì‹œí€€ìŠ¤(sequence)ë¥¼ í™œìš©í•˜ê±°ë‚˜, íƒ€ì„ìŠ¤íƒ¬í”„ì™€ ëœë¤ ìˆ«ìë¥¼ ê²°í•©í•˜ì—¬ ê³ ìœ  ì‹ë³„ìë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. 
ë˜ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œëŠ” í•´ì‹œ í•¨ìˆ˜(ì˜ˆ: SHA-256)ë¥¼ ì‚¬ìš©í•´ ê³ ìœ í•œ í‚¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. ë˜ íŠ¸ìœ„í„°ì—ì„œ ë§Œë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ `Snowflake`ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤. 

ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê°„í¸í•¨ì— ì¤‘ì ì„ ë‘ê³  UUIDë¥¼ ì‚¬ìš©í–ˆë‹¤. 

ì´ë ‡ê²Œ ìƒì„±í•œ ëŒ€ì²´í‚¤ë¥¼ ê¸°ì¡´ì˜ ì‹ë³„ì ëŒ€ì‹ ì— í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë„˜ê²¨ì¤€ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìƒì„± ì´í›„ ê°’ì„ ë°˜í™˜í•˜ëŠ” ì‘ë‹µì€ ë‹¤ìŒê³¼ ê°™ë‹¤. 

```java

public record LectureRegisterationResponse(
	String lectureExternalId,
	Long version,
	String title,
	String description,
    //... 
```

ë§ˆì°¬ê°€ì§€ë¡œ íŠ¹ê°•ì„ ì¡°íšŒí•  ë•Œë„ `lectureExternalId`ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ê°•ì„ ì¡°íšŒí•œë‹¤. 

```java
    @Override
    @Transactional(readOnly = true)
    public LectureGeneralInfo searchSingleLectureById(String externalId) {
        return LectureGeneralInfo.from(lectureRepository.findByLectureExternalId(externalId).orElseThrow(LectureNotFoundException::new));
    }
```


#### ì†ŒíšŒ

ëŒ€ì²´í‚¤ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ëª‡ ê°€ì§€ ë¶ˆí¸í•¨ì„ ëŠê¼ˆë‹¤. 

ì˜ˆë¥¼ ë“¤ì–´, ë‚´ë¶€ í†µì‹ ì—ì„œ ì—”í‹°í‹° ê°„ì˜ ì°¸ì¡°ì—ì„œë„ ëŒ€ì²´í‚¤ë¥¼ ì‚¬ìš©í• ì§€, PKë¥¼ ì‚¬ìš©í• ì§€ì— ëŒ€í•œ ê³ ë¯¼ì´ ìƒê¸´ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ History ê°ì²´ëŠ” ì—°ê´€ ê°ì²´ë¡œì„œ Lectureì™€ LectureApplicationì„ ì°¸ì¡°í•´ì•¼ í•œë‹¤. ì´ë•Œ PKë¡œ ì°¸ì¡°í•´ì•¼ í• ê¹Œ? ëŒ€ì²´í‚¤ë¡œ ì°¸ì¡°í•´ì•¼ í• ê¹Œ?


```java

@Entity
@Getter
@NoArgsConstructor
public class LectureApplicationHistory {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String lectureExternalId;  // ?? 
    private String lectureApplicationId; // ?? 
	//...
```

ë¶„ëª… ë‚´ë¶€ ì—”í‹°í‹° ê°„ì˜ ì°¸ì¡°ì—ì„œëŠ” PKë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ê³¼ ì½”ë“œì˜ ë‹¨ìˆœì„± ì¸¡ë©´ì—ì„œ ìœ ë¦¬í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° ê·¸ë ‡ê²Œ ë˜ë©´ ì´ëŸ° ë¬¸ì œê°€ ìƒê¸´ë‹¤. 

ë§Œì•½ í•´ë‹¹ ê°ì²´ë¥¼ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ì˜ˆë¥¼ ë“¤ì–´ í•´ë‹¹ ê°ì²´ë¥¼ ë°˜í™˜ë°›ê³ , ê·¸ ë‚´ë¶€ì˜ íƒìƒ‰ì„ í†µí•´ì„œ íŠ¹ê°• í˜¹ì€ íŠ¹ê°• ì‹ ì²­ ì •ë³´ë¥¼ ì–»ì€ ë’¤ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì‹œ ì¡°íšŒë¥¼ í•´ì•¼í•œë‹¤ë©´? PKë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´ ì´ë¯¸ PKê°€ ë…¸ì¶œë˜ì—ˆë‹¤ëŠ” ì ì—ì„œ, ê·¸ë¦¬ê³  PKë¥¼ ì•Œì•„ë„ PKë¡œ ê²€ìƒ‰ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì—ì„œ ë¶ˆí¸í•¨ì„ ê²ªëŠ”ë‹¤.

ì´ë ‡ê²Œ ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ëŠ˜ì–´ë‚˜ë©´ì„œ ì½”ë“œ ë³µì¡ì„±ì„ ì¦ëŒ€ëœë‹¤. 

ê·¸ëŸ¼ì—ë„ PK ìì²´ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë…¸ì¶œë  ì¼ì€ ì—†ë‹¤ëŠ” ì¸¡ë©´ì—ì„œ ë” ì•ˆì •ì„± ìˆëŠ” ì‹œìŠ¤í…œì´ ë˜ëŠ” ê²ƒë§Œì€ í™•ì‹¤í•  ê²ƒì´ë‹¤. 



## 2. íŒŒì‚¬ë“œ ë ˆì´ì–´ì˜ í•„ìš”ì„±ì— ëŒ€í•œ ê³ ì°°

### ì„œë¹„ìŠ¤ ê°„ ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ

ì´ëŸ° ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ì. í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì£¼ë¬¸ê³¼ ê²°ì œ ë„ë©”ì¸ì´ ë‹¤ìŒê³¼ ê°™ì´ ì¡´ì¬í•œë‹¤ê³  í•´ë³´ì.

```
com.example
â”œâ”€â”€ order
â”‚   â”œâ”€â”€ presentation
â”‚   â”‚   â””â”€â”€ OrderController.java
â”‚   â”œâ”€â”€ application
â”‚   â”‚   â””â”€â”€ OrderService.java
â”‚   â”œâ”€â”€ business
â”‚   â”‚   â”œâ”€â”€ Order.java
â”‚   â”‚   â””â”€â”€ OrderRepository.java
â”‚   â””â”€â”€ infrastructure
â”‚       â”œâ”€â”€ OrderJpaRepository.java
â”‚       â””â”€â”€ OrderEntity.java
â””â”€â”€ payment
    â”œâ”€â”€ presentation
    â”‚   â””â”€â”€ PaymentController.java
    â”œâ”€â”€ application
    â”‚   â””â”€â”€ PaymentService.java
    â”œâ”€â”€ business
    â”‚   â”œâ”€â”€ Payment.java
    â”‚   â””â”€â”€ PaymentRepository.java
    â””â”€â”€ infrastructure
        â”œâ”€â”€ PaymentJpaRepository.java
        â””â”€â”€ PaymentEntity.java
```


ì´ë•Œ ì´ëŸ° ìƒí™©ì´ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤.

1. **ê²°ì œ ì„œë¹„ìŠ¤ì—ì„œ ì£¼ë¬¸ ì„œë¹„ìŠ¤ ì°¸ì¡°:**
    - ê²°ì œ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•  ë•Œ, ì‚¬ìš©ìì˜ ê²°ì œ ë‚´ì—­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì£¼ë¬¸ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤. 
    - ì´ë¥¼ ìœ„í•´ `PaymentService`ì—ì„œ `OrderService`ë¥¼ ì°¸ì¡°í•˜ì—¬ ì£¼ë¬¸ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
      ```java
      public class PaymentService {
          private final OrderService orderService;
		  
          public void processPayment(Payment payment) {
              Order order = orderService.getOrder(payment.getOrderId());
              // ê²°ì œ ì²˜ë¦¬ ë¡œì§
          }
      }
      ```

2. **ì£¼ë¬¸ ì„œë¹„ìŠ¤ì—ì„œ ê²°ì œ ì„œë¹„ìŠ¤ ì°¸ì¡°:**
    - ë°˜ëŒ€ë¡œ, ì£¼ë¬¸ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•  ë•Œ, ì£¼ë¬¸ì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ ê²°ì œ ì •ë³´ë¥¼ í™•ì¸í•´ì•¼ í•œë‹¤. 
    - ì´ë¥¼ ìœ„í•´ `OrderService`ì—ì„œ `PaymentService`ë¥¼ ì°¸ì¡°í•˜ì—¬ ê²°ì œ ìƒíƒœë¥¼ í™•ì¸í•œë‹¤.
    - ì˜ˆì‹œ:
      ```java
      public class OrderService {
          private final PaymentService paymentService;
		  
          public void completeOrder(Order order) {
              Payment payment = paymentService.getPayment(order.getPaymentId());
              // ì£¼ë¬¸ ì™„ë£Œ ë¡œì§
          }
      }
      ```

ì´ì²˜ëŸ¼ `PaymentService`ì™€ `OrderService`ê°€ ì„œë¡œë¥¼ ì°¸ì¡°í•˜ëŠ” ìˆœí™˜ ì°¸ì¡° ë¬¸ì œê°€ ë°œìƒí•œë‹¤. 

### íŒŒì‚¬ë“œì˜ ì—­í• 

ì´ë˜ì„œ ì´ ë‘˜ì„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜í•˜ê¸° ìœ„í•´ ë“±ì¥í•˜ëŠ” ê²ƒì´ íŒŒì‚¬ë“œì´ë‹¤. 
íŒŒì‚¬ë“œëŠ” ë³µì¡í•œ ì‹œìŠ¤í…œì„ ë‹¨ìˆœí™”í•˜ê¸° ìœ„í•´ ê³ ìˆ˜ì¤€ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì¼ì¢…ì˜ ë””ìì¸ íŒ¨í„´ì´ê¸°ë„ í•˜ë‹¤.
íŒŒì‚¬ë“œë¥¼ ë‘ì–´ ì„œë¹„ìŠ¤ ê°„ì— ì„œë¡œ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ì•Šê³ , íŒŒì‚¬ë“œë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ ìƒí˜¸ì‘ìš©í•˜ê²Œ í•¨ìœ¼ë¡œì¨ ìˆœí™˜ ì°¸ì¡° ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.

   ```java
   public class OrderPaymentFacade {
       private final OrderService orderService;
       private final PaymentService paymentService;

       public OrderPaymentFacade(OrderService orderService, PaymentService paymentService) {
           this.orderService = orderService;
           this.paymentService = paymentService;
       }

       public void processOrderPayment(Order order, Payment payment) {
           orderService.completeOrder(order);
           paymentService.processPayment(payment);
       }
   }
   ```

íŒŒì‚¬ë“œë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ `OrderService`ì™€ `PaymentService`ëŠ” ì„œë¡œ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ì•Šê³ , `OrderPaymentFacade`ë¥¼ í†µí•´ ìƒí˜¸ì‘ìš©í•œë‹¤. 
ì´ë ‡ê²Œ í•˜ë©´ ì˜ì¡´ì„±ì´ ë¬¸ì œê°€ í•´ê²°ëœë‹¤.


### ë‹¨ì ì€?

íŒŒì‚¬ë“œì˜ ë‹¨ì ìœ¼ë¡œëŠ” ì‹±í¬í™€ ì•ˆí‹°íŒ¨í„´ê³¼ íŠ¸ëœì­ì…˜ ë¬¸ì œë¥¼ ë“¤ ìˆ˜ ìˆë‹¤. 
ì˜ëª» ì‚¬ìš©í•˜ë©´ ë‹¨ìˆœíˆ ë°ì´í„°ë§Œ ì „ì†¡í•˜ëŠ” ê³„ì¸µì´ ë˜ì–´ë²„ë¦°ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì´ ë³„ ë‹¤ë¥¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ì§€ ì•Šê³  ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸°ë§Œ í•  ìˆ˜ ìˆë‹¤. 

```java
@Facade
@RequiredArgsConstructor
public class LectureApplyFacade {
	private final LectureApplyService applyService;

	public LectureApplyResponse applyForLecture(LectureApplyRequest request) {
		return LectureApplyResponse.from(applyService.applyForLecture(request.toCommand()));
	}
}
```

ë˜ ë‹¤ë¥¸ ë¬¸ì œëŠ” íŠ¸ëœì­ì…˜ì„ ë³´ì¥í•˜ì§€ ëª»í•œë‹¤ëŠ” ê²ƒì´ë‹¤. 

íŒŒì‚¬ë“œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í•  ë•Œ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ë¥¼ ì°¸ì¡°í•˜ë©´ì„œ ë°ì´í„°ë¥¼ ì¡°í•©í•˜ëŠ” ê²½ìš°, íŠ¸ëœì­ì…˜ ê´€ë¦¬ëŠ” ì–´ë–»ê²Œ í•  ê²ƒì¸ê°€? 
íŠ¸ëœì­ì…˜ì„ íŒŒì‚¬ë“œ ë ˆì´ì–´ì— ë‹¬ì•„ì•¼ í• ê¹Œ? 
ê·¸ë ‡ê²Œ í•˜ë©´ ê²°êµ­ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì— íŠ¸ëœì­ì…˜ì„ ë¶™ì¸ ê²ƒê³¼ ë‹¤ë¥¼ ë°” ì—†ìœ¼ë©°, ì´ëŠ” ë‹¤ì‹œ ìˆœí™˜ ì°¸ì¡° ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì. 

```java
@Facade
@RequiredArgsConstructor
public class OrderPaymentFacade {
    private final OrderService orderService;
    private final PaymentService paymentService;

    public void processOrderPayment(Order order, Payment payment) {
        orderService.completeOrder(order);
        paymentService.processPayment(payment);
    }
}
```

ìœ„ ì½”ë“œì—ì„œ `OrderPaymentFacade`ëŠ” ë‹¨ìˆœíˆ `OrderService`ì™€ `PaymentService`ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ìˆë‹¤. íŠ¸ëœì­ì…˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìƒí™©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. `orderService.completeOrder(order)` í˜¸ì¶œ í›„ ì„±ê³µ.
2. `paymentService.processPayment(payment)` í˜¸ì¶œ ì‹œ ì˜ˆì™¸ ë°œìƒ.

ì´ ê²½ìš° ì£¼ë¬¸ì€ ì™„ë£Œë˜ì—ˆì§€ë§Œ ê²°ì œëŠ” ì‹¤íŒ¨í•˜ê²Œ ë˜ì–´ ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œê°€ ë°œìƒí•œë‹¤. 

**íŠ¸ëœì­ì…˜ ê´€ë¦¬: ë³´ìƒ**

ë³´ìƒ íŠ¸ëœì­ì…˜ê³¼ ê°™ì€ ë³´ì • ë¡œì§ì„ ë³„ë„ë¡œ êµ¬í˜„í•´ì•¼ í•œë‹¤.

```java
import org.springframework.transaction.annotation.Transactional;

@Facade
@RequiredArgsConstructor
public class OrderPaymentFacade {
    private final OrderService orderService;
    private final PaymentService paymentService;

    public void processOrderPayment(Order order, Payment payment) {
        try {
            orderService.completeOrder(order);
            paymentService.processPayment(payment);
        } catch (Exception e) {
            // ì˜ˆì™¸ ë°œìƒ ì‹œ ë³´ìƒ íŠ¸ëœì­ì…˜ ìˆ˜í–‰
            handleCompensation(order, payment);
        }
    }

    private void handleCompensation(Order order, Payment payment) {
        // ì£¼ë¬¸ì„ ì·¨ì†Œí•˜ê±°ë‚˜, ê²°ì œ ì·¨ì†Œ ë¡œì§ì„ ìˆ˜í–‰
        if (orderService.isOrderCompleted(order)) {
            orderService.cancelOrder(order);
        }
        if (paymentService.isPaymentProcessed(payment)) {
            paymentService.refundPayment(payment);
        }
    }
}
```



### ì¡°ê¸ˆ ë” ë„“ê²Œ ë³¸ë‹¤ë©´

íŒŒì‚¬ë“œëŠ” ì„œë¹„ìŠ¤ë¥¼ ì¡°í•©í•˜ê³  ìœ ì—°í•˜ê²Œ ì‚¬ìš©í•˜ê¸°ì— ìœ ìš©í•  ìˆ˜ ìˆë‹¤. 
í•˜ì§€ë§Œ ì´ ë¬¸ì œëŠ” ë‹¨ìˆœíˆ íŒ¨í‚¤ì§€ êµ¬ì¡°ì— êµ­í•œë˜ì§€ ì•ŠëŠ”ë‹¤. 
ì˜ˆë¥¼ ë“¤ì–´, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œ ê²°ì œ ì„œë¹„ìŠ¤ì™€ ì£¼ë¬¸ ì„œë¹„ìŠ¤ë¥¼ ê°ê° ë³„ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë¶„ë¦¬í•´ë„ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë‹¤.

ê° ì„œë¹„ìŠ¤ê°€ ì„œë¡œì˜ ì •ë³´ë¥¼ í•„ìš”ë¡œ í•  ë•Œ, API í†µì‹ ì„ ì–´ë–»ê²Œ í•  ê²ƒì¸ê°€? 
ì´ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë°ì´í„° ì •í•©ì„± ì´ìŠˆëŠ” ì–´ë–»ê²Œ í•´ê²°í•  ê²ƒì¸ê°€? 
ì´ëŸ¬í•œ ìƒí™©ì€ ì„œë¡œê°€ ì„œë¡œë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ì„¤ê³„ ìì²´ì— ê²°í•¨ì´ ìˆì„ ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì‹œì‚¬í•œë‹¤.

### ë‹¤ì–‘í•œ ì ‘ê·¼ë“¤

ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í”¼í•˜ê¸° ìœ„í•´ì„œëŠ”, ê°€ëŠ¥í•œ í•œ ì„œë¹„ìŠ¤ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê·¸ëŸ¬ë‚˜ ë¶ˆê°€í”¼í•˜ê²Œ ìƒí˜¸ ì˜ì¡´ì´ í•„ìš”í•œ ê²½ìš°ë“¤ì´ ì¡´ì¬í•œë‹¤. ê·¸ë˜ì„œ ë‹¤ìŒê³¼ ê°™ì€ í•´ê²°ì±…ë“¤ì´ ë“±ì¥í•œë‹¤.

1. **ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì„œë¹„ìŠ¤**: ë³„ë„ì˜ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì„œë¹„ìŠ¤ ë˜ëŠ” BFF(Backend for Frontend)ë¥¼ êµ¬ì„±í•˜ì—¬ ì„œë¹„ìŠ¤ ê°„ì˜ ìƒí˜¸ì‘ìš©ì„ ê´€ë¦¬í•œë‹¤.
2. **ë©”ì‹œì§€ í ì‚¬ìš©**: ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ ê°„ì˜ ë¹„ë™ê¸° í†µì‹ ì„ í†µí•´ ë°ì´í„° ì •í•©ì„±ì„ ìœ ì§€í•œë‹¤. 

### ìš”ì ì€...

íŒŒì‚¬ë“œì˜ í•„ìš”ì„±ì€ í”„ë¡œì íŠ¸ë³„ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ë³„ë¡œ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤. 
íŠ¹ì • ìƒí™©ì—ì„œëŠ” ê²°ì œ ì„œë¹„ìŠ¤ì— íŒŒì‚¬ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆê³ , ì£¼ë¬¸ ì„œë¹„ìŠ¤ì—ëŠ” êµ¬í˜„í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. 
ë°˜ëŒ€ë¡œ, ì¼ê´€ì„±ì„ ìœ„í•´ ëª¨ë“  ì„œë¹„ìŠ¤ì— íŒŒì‚¬ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ë„ ìˆë‹¤.

ì¤‘ìš”í•œ ê²ƒì€ ê°ê°ì˜ ì„ íƒì— ë”°ë¥¸ í•©ë‹¹í•œ ì´ìœ ê°€ ìˆì–´ì•¼ í•˜ë©°, ì„ íƒì— ë”°ë¥¸ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ì¸ì§€í•˜ëŠ” ê²ƒì´ë‹¤. 
íŒŒì‚¬ë“œê°€ ë§ŒëŠ¥ í•´ê²°ì±…ì´ ì•„ë‹ˆë©°, ì ì ˆíˆ ì‚¬ìš©í•´ì•¼ë§Œ ì§„ì •í•œ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.

ë‹¤ì‹œ ë§í•´, íŒŒì‚¬ë“œë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•´ì„œ ëª¨ë“  ë¬¸ì œê°€ í•´ê²°ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë©°, ìƒí™©ì— ë§ëŠ” ì˜¬ë°”ë¥¸ ì‚¬ìš©ì´ ì¤‘ìš”í•˜ë‹¤. 
ê²°êµ­ì—ëŠ” íŒŒì‚¬ë“œë¥¼ ì–´ë–»ê²Œ ì„¤ê³„í•˜ê³  ì‚¬ìš©í•˜ëŠ”ì§€ê°€ í•µì‹¬ì´ë‹¤.






## 3. ì‚¬ìš©ì ìš”ì²­ ì´ë ¥ ì €ì¥í•˜ê¸° ì±Œë¦°ì§€

íŠ¹ê°• ì‹ ì²­ ì„œë¹„ìŠ¤ API Specsì˜ ìš”êµ¬ ì‚¬í•­ì— ë‹¤ìŒê³¼ ê°™ì€ ì£¼ë¬¸ì´ ìˆì—ˆë‹¤.

> ì–´ë–¤ ìœ ì €ê°€ íŠ¹ê°•ì„ ì‹ ì²­í–ˆëŠ”ì§€ íˆìŠ¤í† ë¦¬ë¥¼ ì €ì¥í•´ì•¼í•œë‹¤.

ì´ì— ëŒ€í•´ì„œ ëª¨ë“  ì´ë ¥ì„ ì €ì¥í•´ì•¼ í•˜ëŠ” ê²ƒìœ¼ë¡œ í•´ì„í–ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 50ê°œì˜ ìš”ì²­ì´ ì™”ì„ ë•Œ, ì •ìƒ ë™ì‘ì„ í•œë‹¤ë©´ 20ê°œëŠ” ì‹¤íŒ¨í•˜ê³  30ê°œëŠ” ì„±ê³µí•  ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ 30ê°œì˜ ì„±ê³µì— ëŒ€í•œ ì´ë ¥ ë¿ë§Œ ì•„ë‹ˆë¼ 20ê°œë„ ì €ì¥í•˜ì—¬ ì´ë ¥ ì—­ì‹œ 50ê°œ ë‚¨ì•„ì•¼ í•œë‹¤.

ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼ í• ê¹Œ? ì±Œë¦°ì§€ë¼ê³  ëŠê»´ì¡Œë‹¤!

ì‚¬ìš©ì ìš”ì²­ ì´ë ¥ì„ ì €ì¥í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë‘ ê°€ì§€ ì ‘ê·¼ ë°©ì‹ì„ ê³ ë¯¼í•´ë³´ì•˜ë‹¤. 

1. ëª¨ë“  ì´ë ¥ ì €ì¥í•˜ê¸°
2. ì„±ê³µí•œ ì´ë ¥ ì €ì¥í•˜ê¸°

ê²°ë¡ ì ìœ¼ë¡œëŠ” ëª¨ë“  `ì‹œë„ ìš”ì²­`ì— ëŒ€í•´ì„œ ì‹ ì²­ ë¡œì§ ì²˜ë¦¬ ì „ ë¹„ë™ê¸°ë¡œ ì´ë ¥ì„ ìƒì„±í•˜ê³ , `ì„±ê³µí•œ ì´ë ¥`ì— ëŒ€í•´ì„œ ë™ê¸°ì ìœ¼ë¡œ ìƒì„±í•œë‹¤. 

í”Œë¡œìš°ë¥¼ ì„¤ëª…í•˜ê¸°ì— ì•ì„œ ë¨¼ì € ì •ì˜í•œ ì´ë ¥ë¶€í„° ì‚´í´ë³´ì. 


### ì´ë ¥ ì†ì„±

ì´ë ¥ ì—”í‹°í‹°ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í–ˆë‹¤. 

```java

@Entity
public class LectureApplicationHistory {
	@Id
	@GeneratedValue(strategy = GenerationType.IDENTITY)
	private Long id;
	@Version
	private Long version;
	private String userId;
	private String lectureExternalId;
	private String lectureApplicationId;
	private boolean success;
	private LocalDateTime appliedAt;
	private LocalDateTime requestAt;
}
```


### ì´ë ¥ ìƒì„± ì „ì²´ ê³¼ì • 

![lecture-history-process-1.png](document%2Flecture-history-process-1.png)

`LectureApplyService`ì˜ `applyForLecture`ì— ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ `@LogLectureApplyTry` ì• ë…¸í…Œì´ì…˜ì— ëŒ€í•œ Aspectê°€ ë™ì‘í•˜ì—¬ ìš”ì²­ì„ ê°€ë¡œì±ˆë‹¤. 

```java
@Override
	@Transactional
	@LogLectureApplyTry
	public LectureApplyInfo applyForLecture(LectureApplyCommand command) {
		Lecture lecture = lectureRepository.findByLectureExternalId(command.lectureExternalId()).orElseThrow(LectureNotFoundException::new);

		lectureApplyValidator.validate(command, lecture);

		LectureApplication lectureApplication = command.toEntity()
			.withPk(lectureApplicationPkGenerator.generate(lecture.getTitle()))
			.withSk(randomUUID().toString().substring(0,12))
			.withLecture(lecture)
			.withAppliedAt(now())
			.asApplied()
			.publish();

		return LectureApplyInfo.from(lectureApplicationRepository.save(lectureApplication));
	}
```

ì¦‰, AspectëŠ” ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ `LectureApplyTryEvent`ë¥¼ ë°œí–‰í•œë‹¤. 

```java
@Aspect
@Component
@RequiredArgsConstructor
public class LectureApplicationAspect {


	private final ApplicationEventPublisher eventPublisher;

	@Before("@annotation(io.hhpluslectureapplicationsystem.common.annotation.LogLectureApplyTry)")
	public void logLectureApplyTry(JoinPoint joinPoint) {
		Object[] args = joinPoint.getArgs();
		LectureApplyCommand command = (LectureApplyCommand) args[0];
		eventPublisher.publishEvent(new LectureApplyTryEvent(this, command.userId(), command.lectureExternalId(), command.requestAt()));
	}
}
```

ì—¬ê¸°ì„œ ë°œí–‰ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤. 

ì´í›„ ì„œë¹„ìŠ¤ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë”°ë¼ ì‹ ì²­ì— ëŒ€í•œ ì²˜ë¦¬ê°€ ì´ë£¨ì–´ì§€ê³ , ë§Œì•½ ì‹ ì²­ì´ ê°€ëŠ¥í•˜ì—¬ ì„±ê³µëœë‹¤ë©´ ì´ë²ˆì—ëŠ” `AbstractAggregateRoot`ë¥¼ í™œìš©í•´ ë„ë©”ì¸ ì´ë²¤íŠ¸ ë°©ì‹ìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•œë‹¤. 


```java
@Entity
public class LectureApplication extends AbstractAggregateRoot<LectureApplication> {

	//... 
    
	public LectureApplication publish(){
		this.registerEvent(new LectureApplySuccessEvent(
			this,
			this.userId,
			this.getLectureExternalId(),
			this.lectureApplicationId,
			this.appliedAt,
			this.requestAt
		));
		return this;
	}
```

ì´ë•Œì˜ ì´ë²¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ `TransactionalEventListener`ì˜ `TransactionPhase.BEFORE_COMMIT` ì˜µì…˜ìœ¼ë¡œ ì»¤ë°‹ ì „ì— í•œ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ìˆ˜í–‰ëœë‹¤.

```java
	@TransactionalEventListener(phase = TransactionPhase.BEFORE_COMMIT)
	public void handleLectureApplyEvent(LectureApplySuccessEvent event) {
		lectureApplyHistoryFactory.upsertSuccessEvent(event);
	}
```

ì´ëŸ¬í•œ êµ¬í˜„ì—ì„œ ê³ ë¯¼í•œ ëª‡ê°€ì§€ ê²°ì •ì‚¬í•­ë“¤ì— ëŒ€í•´ì„œ ì‚´í´ë³´ì. 


### ì™œ ì‹œë„ ì´ë ¥ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ì„±ê³µ ì´ë ¥ì€ íŠ¸ëœì­ì…˜ì„ ìœ ì§€í•˜ë©´ì„œ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í–ˆë‚˜?  

íŠ¹ê°• ì‹ ì²­ ì‹œë„ ì´ë ¥ì€ ë‹¨ìˆœíˆ ì‹œë„í•œ ì‚¬ì‹¤ì„ ê¸°ë¡í•˜ê¸° ìœ„í•œ ê²ƒìœ¼ë¡œ, ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•¨ìœ¼ë¡œì¨ ë©”ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§€ì¥ì„ ì£¼ì§€ ì•Šê³  ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. 
ë°˜ë©´ì—, ì„±ê³µ ì´ë ¥ì€ ì‹ ì²­ì´ ì‹¤ì œë¡œ ì„±ê³µí–ˆìŒì„ ì˜ë¯¸í•˜ë¯€ë¡œ, ì‹ ì²­ ì²˜ë¦¬ê°€ ì™„ë£Œëœ í›„ ê°™ì€ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•´ì•¼ í•œë‹¤. 
ì´ëŠ” ì„±ê³µí•œ ì‹ ì²­ê³¼ ê·¸ì— ëŒ€í•œ ì„±ê³µ ì´ë ¥ì´ ë°˜ë“œì‹œ í•¨ê»˜ ì €ì¥ë˜ë„ë¡ í•˜ê¸° ìœ„í•¨ì´ë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰í•´ë³´ì. 

| ì‹œë„ ì´ë ¥ ì €ì¥ | ì„±ê³µ ì´ë ¥ ì €ì¥ | ì„¤ëª… |
|----------------|----------------|------|
| O              | O              | ì •ìƒì ì¸ ì‹ ì²­ ì²˜ë¦¬ ë° ì´ë ¥ ì €ì¥, ë°ì´í„° ì¼ê´€ì„± ë³´ì¥ |
| O              | X              | ì‹ ì²­ì€ ì„±ê³µí–ˆìœ¼ë‚˜ ì„±ê³µ ì´ë ¥ì´ ì €ì¥ë˜ì§€ ì•ŠìŒ, ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œ |
| X              | O              | ì‹œë„ ì´ë ¥ì´ ì €ì¥ë˜ì§€ ì•Šê³  ì„±ê³µ ì´ë ¥ë§Œ ì €ì¥ë¨, ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œ |
| X              | X              | ëª¨ë“  ì²˜ë¦¬ ì‹¤íŒ¨, ì‹œìŠ¤í…œ ê²°í•¨ì´ë‚˜ ë¹„ì •ìƒì ì¸ ìƒíƒœ |


ì´ëŸ¬í•œ ì´ìœ ë¡œ ì‹œë„ ì´ë ¥ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë©”ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ í•˜ê³ , ì„±ê³µ ì´ë ¥ì€ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•œë‹¤.




### ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ì¸í•œ ì ì¬ì  ì´ìŠˆ 

ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ê²½ìš°, ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•Šì•„ ì‹œë„ ì´ë ¥ë³´ë‹¤ ì„±ê³µ ì´ë ¥ì´ ë¨¼ì € ì €ì¥ë  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì•ì„  ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ ë¶€ë¶„ì´ ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ ë¹„ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤ë©´ ì–´ë–¨ê¹Œ? 


![lecture-history-process-2.png](document%2Flecture-history-process-2.png)

ì´ì™€ ê°™ì´ ì„±ê³µ ì´ë ¥ì´ ì‹œë„ ì´ë ¥ë³´ë‹¤ ë¨¼ì € ë„ì°©í•˜ê²Œ ëœë‹¤. 
ì´ë¡œ ì¸í•´ ì„±ê³µ ì´ë²¤íŠ¸ê°€ ë¨¼ì € ì²˜ë¦¬ë˜ê³  ì„±ê³µ ì´ë ¥ì´ ì €ì¥ëœ í›„ ì‹œë„ ì´ë²¤íŠ¸ê°€ ë‚˜ì¤‘ì— ë„ì°©í•  ê²½ìš°, ì„±ê³µí•œ ì‹ ì²­ì„ì—ë„ ë¶ˆêµ¬í•˜ê³  ì‹œë„ ì´ë ¥ì´ ë’¤ëŠ¦ê²Œ ì €ì¥ë˜ì–´ ì´ë ¥ í•„ë“œì¸ `success`ê°€ `true`ê°€ ì•„ë‹ˆë¼ `false`ë¡œ ê¸°ë¡ë  ìˆ˜ ìˆë‹¤. 

ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ? 


### ì €ì¥ ë¡œì§ ì„¸ë¶€ êµ¬í˜„

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `SimpleLectureApplyHistoryFactory` í´ë˜ìŠ¤ì—ì„œëŠ” ì„±ê³µ ì´ë²¤íŠ¸ì™€ ì‹œë„ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í–ˆë‹¤.

ì„±ê³µ ì´ë²¤íŠ¸ì— ëŒ€í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‘ ê°€ì§€ ê²½ìš°ì˜ ìˆ˜ë¥¼ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.
1. ì„±ê³µ ì´ë²¤íŠ¸ê°€ ë¨¼ì € ë„ë‹¬í•˜ëŠ” ê²½ìš°: ì´ë ¥ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²ƒì´ë¯€ë¡œ ìƒˆë¡œ ìƒì„±í•˜ì—¬ ì €ì¥í•œë‹¤.
2. ì‹œë„ ì´ë²¤íŠ¸ê°€ ë¨¼ì € ë„ë‹¬í•˜ëŠ” ê²½ìš°: ì´ë¯¸ ì €ì¥ëœ ì‹œë„ ì´ë ¥ì´ ì¡´ì¬í•˜ë¯€ë¡œ í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ì¡°íšŒí•˜ì—¬ ë®ì–´ì“´ë‹¤.

```java
@Override
@Transactional
public void upsertSuccessEvent(LectureApplySuccessEvent event){
	LectureApplicationHistory history = historyRepository
		.findByUserIdAndLectureExternalIdAndRequestAt(event.getUserId(), event.getLectureExternalId(), event.getRequestAt())
		.map(existingHistory -> existingHistory.updateSuccess(event.isSuccess()))
		.map(existingHistory -> existingHistory.updateLectureApplicationInfoWithSuccessEvent(event))
		.orElseGet(event::toEntity);

	historyRepository.save(history);
}
```

ì „ì²´ ì‹œë„ ì´ë²¤íŠ¸ì— ëŒ€í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‘ ê°€ì§€ ê²½ìš°ì˜ ìˆ˜ë¥¼ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.
1. ì„±ê³µ ì´ë²¤íŠ¸ê°€ ë¨¼ì € ë„ë‹¬í•˜ëŠ” ê²½ìš°: ì´ë¯¸ ì´ë ¥ì´ ìƒì„±ë˜ì—ˆì„ ê²ƒì´ë¯€ë¡œ ì¡°íšŒí•˜ì—¬ ì¡´ì¬í•œë‹¤ë©´ ë³„ë„ë¡œ ì €ì¥í•  í•„ìš” ì—†ì´ ë¦¬í„´í•œë‹¤.
2. ì‹œë„ ì´ë²¤íŠ¸ê°€ ë¨¼ì € ë„ë‹¬í•˜ëŠ” ê²½ìš°: ì–¸ì œë‚˜ ì €ì¥í•œë‹¤.

```java
@Override
@Transactional
public void saveTryHistory(LectureApplyTryEvent event) {
	Optional<LectureApplicationHistory> optionalHistory = historyRepository
		.findByUserIdAndLectureExternalIdAndRequestAt(event.getUserId(), event.getLectureExternalId(), event.getRequestAt());

	if (optionalHistory.isPresent()){
		return;
	}

	historyRepository.save(event.toEntity());
}
```



##### ì¦‰,

1. **ì„±ê³µ ì´ë²¤íŠ¸ê°€ ë¨¼ì € ë„ë‹¬í•œ ê²½ìš°**:
    - ì„±ê³µ ì´ë²¤íŠ¸ê°€ ë„ì°©í•˜ë©´, `LectureApplySuccessEvent`ë¥¼ í†µí•´ ì„±ê³µ ì´ë ¥ì„ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ ìƒˆë¡œ ìƒì„±í•œë‹¤.
    - ì‹œë„ ì´ë ¥ì´ ë‚˜ì¤‘ì— ë„ì°©í•˜ë©´, ê¸°ì¡´ ì´ë ¥ì„ í™•ì¸í•˜ê³  ë®ì–´ì“´ë‹¤.

2. **ì‹œë„ ì´ë²¤íŠ¸ê°€ ë¨¼ì € ë„ë‹¬í•œ ê²½ìš°**:
    - ì‹œë„ ì´ë²¤íŠ¸ê°€ ë„ì°©í•˜ë©´, `LectureApplyTryEvent`ë¥¼ í†µí•´ ì‹œë„ ì´ë ¥ì„ ì €ì¥í•œë‹¤.
    - ì„±ê³µ ì´ë²¤íŠ¸ê°€ ë‚˜ì¤‘ì— ë„ì°©í•˜ë©´, ê¸°ì¡´ ì‹œë„ ì´ë ¥ì„ ì„±ê³µ ì´ë ¥ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.



### ê²€ì¦ 

ê¸°ë³¸ ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸í–ˆë‹¤.


![apply-default-cucumber-scenario.png](document%2Fapply-default-cucumber-scenario.png)

Databaseì— ì •ìƒì ìœ¼ë¡œ í•˜ë‚˜ì˜ ì´ë ¥ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 

![apply-default-cucumber-scenario-result.png](document%2Fapply-default-cucumber-scenario-result.png)

















# í”„ë¡œì íŠ¸ ì‹¤í–‰ ì „ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë°©ë²•

> Dockerê°€ ì„¤ì¹˜ë˜ì–´ ìˆê³  êµ¬ë™ì¤‘ì´ì–´ì•¼ í•©ë‹ˆë‹¤.

1. í”„ë¡œì íŠ¸ë¥¼ í´ë¡ í•©ë‹ˆë‹¤.
    ```sh
    git clone <repository-url>
    cd hhplus-lecture-application-system
    ```

2. í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
    ```env
    SPRING_DATASOURCE_USERNAME=root
    SPRING_DATASOURCE_PASSWORD=1234
    ```

   í•„ìš”í•œ ê²½ìš°, ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ìì‹ ì˜ í™˜ê²½ì— ë§ê²Œ ë³€ê²½í•©ë‹ˆë‹¤.

3. Docker Composeë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
    ```sh
    docker-compose up -d
    ```

4. ë°ì´í„°ë² ì´ìŠ¤ê°€ ì„¤ì •ë˜ê³  ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
    ```sh
    docker ps
    ```

5. Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
    ```sh
    ./mvnw spring-boot:run
    ```
6. ì •ìƒ ì‘ë™ í›„ í™•ì¸

ë„ì»¤ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ `localhost:3301` í¬íŠ¸ì™€ `3302` í¬íŠ¸ë¡œ `Database` ì¡°íšŒì‹œ ë‹¤ìŒê³¼ ê°™ì´ í™•ì¸ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. 

![docker-after-database.png](document%2Fdocker-after-database.png)

